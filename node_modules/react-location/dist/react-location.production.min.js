!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactLocation={},e.React)}(this,(function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=n(t);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var l,f=l||(l={});f.Pop="POP",f.Push="PUSH",f.Replace="REPLACE";function h(e){e.preventDefault(),e.returnValue=""}function d(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function p(){return Math.random().toString(36).substr(2,8)}function v(e){var t=e.pathname,n=e.search;return(void 0===t?"/":t)+(void 0===n?"":n)+(void 0===(e=e.hash)?"":e)}function m(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e){function t(){var e=i.location,t=u.state||{};return[t.idx,{pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"}]}function n(e){return"string"==typeof e?e:v(e)}function r(e,t){return void 0===t&&(t=null),s({},y,"string"==typeof e?m(e):e,{state:t,key:p()})}function a(e){f=e,e=t(),g=e[0],y=e[1],b.call({action:f,location:y})}function o(e){u.go(e)}void 0===e&&(e={});var i=void 0===(e=e.window)?document.defaultView:e,u=i.history,c=null;i.addEventListener("popstate",(function(){if(c)P.call(c),c=null;else{var e=l.Pop,n=t(),r=n[0];if(n=n[1],P.length){if(null!=r){var i=g-r;i&&(c={action:e,location:n,retry:function(){o(-1*i)}},o(i))}}else a(e)}}));var f=l.Pop,g=(e=t())[0],y=e[1],b=d(),P=d();return null==g&&(g=0,u.replaceState(s({},u.state,{idx:g}),"")),{get action(){return f},get location(){return y},createHref:n,push:function e(t,o){var c=l.Push,s=r(t,o);if(!P.length||(P.call({action:c,location:s,retry:function(){e(t,o)}}),0)){var f=[{usr:s.state,key:s.key,idx:g+1},n(s)];s=f[0],f=f[1];try{u.pushState(s,"",f)}catch(e){i.location.assign(f)}a(c)}},replace:function e(t,o){var i=l.Replace,c=r(t,o);P.length&&(P.call({action:i,location:c,retry:function(){e(t,o)}}),1)||(c=[{usr:c.state,key:c.key,idx:g},n(c)],u.replaceState(c[0],"",c[1]),a(i))},go:o,back:function(){o(-1)},forward:function(){o(1)},listen:function(e){return b.push(e)},block:function(e){var t=P.push(e);return 1===P.length&&i.addEventListener("beforeunload",h),function(){t(),P.length||i.removeEventListener("beforeunload",h)}}}}function y(e){function t(e,t){return void 0===t&&(t=null),s({},f,"string"==typeof e?m(e):e,{state:t,key:p()})}function n(e,t,n){return!g.length||(g.call({action:e,location:t,retry:n}),!1)}function r(e,t){c=e,f=t,h.call({action:c,location:f})}function a(e){var t=Math.min(Math.max(u+e,0),i.length-1),o=l.Pop,c=i[t];n(o,c,(function(){a(e)}))&&(u=t,r(o,c))}void 0===e&&(e={});var o=e;e=o.initialEntries,o=o.initialIndex;var i=(void 0===e?["/"]:e).map((function(e){return s({pathname:"/",search:"",hash:"",state:null,key:p()},"string"==typeof e?m(e):e)})),u=Math.min(Math.max(null==o?i.length-1:o,0),i.length-1),c=l.Pop,f=i[u],h=d(),g=d();return{get index(){return u},get action(){return c},get location(){return f},createHref:function(e){return"string"==typeof e?e:v(e)},push:function e(a,o){var c=l.Push,s=t(a,o);n(c,s,(function(){e(a,o)}))&&(u+=1,i.splice(u,i.length,s),r(c,s))},replace:function e(a,o){var c=l.Replace,s=t(a,o);n(c,s,(function(){e(a,o)}))&&(i[u]=s,r(c,s))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return h.push(e)},block:function(e){return g.push(e)}}}var b=["children","location"],P=["location"],w=["basepath","routes"],E=["to","search","hash","children","target","style","replace","onClick","onMouseEnter","className","getActiveProps","getInactiveProps","activeOptions","preload","disabled","_ref"],x=["style","className"],M=["style","className"],k=["pending"],O=["children"],L=r.createContext(null),S=r.createContext(null),R=r.createContext(null),A=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),j=A?r.useLayoutEffect:r.useEffect,C=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this;return this.listeners.push(e),function(){t.listeners=t.listeners.filter((function(t){return t!==e}))}},t.notify=function(e){this.listeners.forEach((function(t){return t(e)}))},e}(),T=function(e){function t(t){var n,r,a;return(a=e.call(this)||this).isTransitioning=!1,a.history=(null==t?void 0:t.history)||(A?g():y()),a.stringifySearch=null!=(n=null==t?void 0:t.stringifySearch)?n:ce,a.parseSearch=null!=(r=null==t?void 0:t.parseSearch)?r:se,a.current=a.parseLocation(a.history.location),a.destroy=a.history.listen((function(e){a.current=a.parseLocation(e.location,a.current),a.notify()})),a}o(t,e);var n=t.prototype;return n.buildNext=function(e,t){var n,r,o;void 0===e&&(e="/"),void 0===t&&(t={});var i=a({},this.current,t.from),u=re(e,i.pathname,""+(null!=(n=t.to)?n:".")),c=null!=(r=!0===t.search?i.search:Y(t.search,i.search))?r:{},s=null!=(o=t.__searchFilters)&&o.length?t.__searchFilters.reduce((function(e,t){return t(e,c)}),i.search):c,l=oe(i.search,s),f=this.stringifySearch(l),h=Y(t.hash,i.hash);return{pathname:u,search:l,searchStr:f,hash:h=h?"#"+h:"",href:""+u+f+h,key:t.key}},n.navigate=function(e,t){var n=this;this.current=e,this.navigateTimeout&&clearTimeout(this.navigateTimeout);var r="replace";this.nextAction||(r=t?"replace":"push"),t||(r="push"),this.nextAction=r,this.navigateTimeout=setTimeout((function(){var e=n.nextAction;return delete n.nextAction,n.parseLocation(n.history.location).href===n.current.href&&!n.current.key&&(e="replace"),"replace"===e?n.history.replace({pathname:n.current.pathname,hash:n.current.hash,search:n.current.searchStr}):n.history.push({pathname:n.current.pathname,hash:n.current.hash,search:n.current.searchStr})}),16)},n.parseLocation=function(e,t){var n,r=this.parseSearch(e.search);return{pathname:e.pathname,searchStr:e.search,search:oe(null==t?void 0:t.search,r),hash:null!=(n=e.hash.split("#").reverse()[0])?n:"",href:""+e.pathname+e.search+e.hash,key:e.key}},t}(C);function N(e){return r.createElement(S.Provider,e)}var _=function(e){function t(t){var n,r=t.location,o=u(t,P);return(n=e.call(this)||this).routesById={},n.update=function(e){var t=e.basepath,r=e.routes,o=u(e,w);Object.assign(c(n),o),n.basepath=ee("/"+(null!=t?t:"")),n.routesById={};n.routes=function e(t,r){return t.map((function(t){var i,u,c,s,l=null!=(i=t.path)?i:"*",f=Z(["root"===(null==r?void 0:r.id)?"":null==r?void 0:r.id,(null==l?void 0:l.replace(/(.)\/$/,"$1"))+(t.id?"-"+t.id:"")]);if(t=a({},t,{pendingMs:null!=(u=t.pendingMs)?u:null==o?void 0:o.defaultPendingMs,pendingMinMs:null!=(c=t.pendingMinMs)?c:null==o?void 0:o.defaultPendingMinMs,id:f}),n.routesById[f])throw new Error;return n.routesById[f]=t,t.children=null!=(s=t.children)&&s.length?e(t.children,t):void 0,t}))}(r),n.rootMatch={id:"root",params:{},search:{},pathname:n.basepath,route:null,ownData:{},data:{},isLoading:!1,status:"resolved"}},n.setState=function(e){var t=e({state:n.state,pending:n.pending});n.state=t.state,n.pending=t.pending,n.cleanMatchCache(),n.notify()},n.matchCache={},n.cleanMatchCache=function(){var e,t,r,a,o,i=[].concat(null!=(e=null==(t=c(n))?void 0:t.state.matches)?e:[],null!=(r=null==(a=c(n))||null==(o=a.pending)?void 0:o.matches)?r:[]).map((function(e){return e.id}));Object.values(n.matchCache).forEach((function(e){var t;if(e.updatedAt&&!i.includes(e.id)){var r=Date.now()-(null!=(t=e.updatedAt)?t:0);(!e.maxAge||r>e.maxAge)&&delete n.matchCache[e.id]}}))},n.updateLocation=function(e){var t;return{promise:new Promise((function(r){var o=new H(c(n),e);n.setState((function(e){return a({},e,{pending:{location:o.location,matches:o.matches}})})),t=o.subscribe((function(){var e=n.state.matches;e.filter((function(e){return!o.matches.find((function(t){return t.id===e.id}))})).forEach((function(e){null==e.onExit||e.onExit(e)})),e.filter((function(e){return o.matches.find((function(t){return t.id===e.id}))})).forEach((function(e){null==e.route.onTransition||e.route.onTransition(e)})),o.matches.filter((function(t){return!e.find((function(e){return e.id===t.id}))})).forEach((function(e){e.onExit=null==e.route.onMatch?void 0:e.route.onMatch(e)})),n.setState((function(e){return a({},e,{state:{location:o.location,matches:o.matches},pending:void 0})})),r()})),o.loadData(),o.startPending()})),unsubscribe:t}},n.update(o),n.state={location:r.current,matches:[]},r.subscribe((function(){return n.notify()})),n}return o(t,e),t}(C);function D(){var e,t=(e=r.useRef(!1),r.useEffect((function(){return e.current=!0,function(){e.current=!1}})),function(){return e.current}),n=r.useReducer((function(e){return e+1}),0)[1],a=r.useContext(L);return j((function(){return a.subscribe((function(){Promise.resolve().then((function(){setTimeout((function(){t()&&n()}),0)}))}))}),[a]),a}var B=function(e){var t=this;this.status="pending",this.ownData={},this.data={},this.isLoading=!1,this.notify=function(e){var n;null==(n=t.matchLoader)||n.notify(e)},this.assignMatchLoader=function(e){t.matchLoader=e},this.startPending=function(){t.pendingTimeout&&clearTimeout(t.pendingTimeout),t.route.pendingMs&&(t.pendingTimeout=setTimeout((function(){null==t.notify||t.notify(),void 0!==t.route.pendingMinMs&&(t.pendingMinPromise=new Promise((function(e){return setTimeout(e,t.route.pendingMinMs)})))}),t.route.pendingMs))},this.load=function(e){var n,r;if(t.maxAge=null!=(n=null!=(r=e.maxAge)?r:t.route.loaderMaxAge)?n:e.router.defaultLoaderMaxAge,!t.loaderPromise){var o=t.route.import;t.loaderPromise=(o?o({params:t.params,search:t.search}).then((function(e){t.route=a({},t.route,e)})):Promise.resolve()).then((function(){var n=[];["element","errorElement","pendingElement"].forEach((function(e){var r=t.route[e];t[e]||("function"==typeof r?n.push(r(t).then((function(n){t[e]=n}))):t[e]=t.route[e])}));var r=t.route.loader,a=r?new Promise((function(n){return new Promise((function(a,o){var i,u,c;i=function(e){t.status="resolved",t.ownData=e,t.error=void 0},u=function(e){console.error(e),t.status="rejected",t.error=e},c=function(){t.isLoading=!1,t.startPending=void 0,clearTimeout(undefined),n(t.ownData)};var s=function(){try{return a()}catch(e){return o(e)}},l=function(e){try{return u(e),c(),s()}catch(e){return o(e)}};try{return t.isLoading=!0,Promise.resolve(r(t,{parentMatch:e.parentMatch,dispatch:function(e){return new Promise((function(n,r){return"resolve"===e.type?i(e.data):"reject"===e.type?u(e.error):"loading"===e.type?t.isLoading=!0:"maxAge"===e.type&&(t.maxAge=e.maxAge),t.updatedAt=Date.now(),null==t.notify||t.notify(!0),n()}))}})).then((function(e){try{return i(e),Promise.resolve(t.pendingMinPromise).then((function(e){try{return c(),s()}catch(e){return l(e)}}),l)}catch(e){return l(e)}}),l)}catch(e){l(e)}}))})):Promise.resolve().then((function(){t.status="resolved"}));return Promise.all([].concat(n,[a])).then((function(){t.updatedAt=Date.now()}))})).then((function(){return t.ownData}))}},Object.assign(this,e)},H=function(e){function t(t,n){var r;(r=e.call(this)||this).status="pending",r.preNotify=function(e){var t;"pending"===r.status&&e||(r.status="resolved",null==(t=r.matches)||t.forEach((function(e,n){var r,o=null==t?void 0:t[n-1];e.data=a({},null!=(r=null==o?void 0:o.data)?r:{},e.ownData)})),r.notify(!1))},r.loadData=function(e){return new Promise((function(t,n){var a,o;return o=(void 0===e?{}:e).maxAge,r.router.cleanMatchCache(),null!=(a=r.matches)&&a.length?(r.firstRenderPromises=[],r.matches.forEach((function(e,t){var n,a,i=null==(n=r.matches)?void 0:n[t-1];null==e.assignMatchLoader||e.assignMatchLoader(c(r)),null==e.load||e.load({maxAge:o,parentMatch:i,router:r.router}),null==(a=r.firstRenderPromises)||a.push(e.loaderPromise)})),Promise.resolve(Promise.all(r.firstRenderPromises).then((function(){return r.preNotify(),r.matches}))).then(t,n)):(r.preNotify(),t())}))},r.load=function(e){return new Promise((function(t,n){var a;return a=(void 0===e?{}:e).maxAge,Promise.resolve(r.loadData({maxAge:a})).then(t,n)}))},r.startPending=function(){return new Promise((function(e,t){return r.matches.forEach((function(e){return null==e.startPending?void 0:e.startPending()})),e()}))},r.router=t,r.location=n,r.matches=[];var o=z(r.router,r.location);return r.matches=null==o?void 0:o.map((function(e){return r.router.matchCache[e.id]||(r.router.matchCache[e.id]=new B(e)),r.router.matchCache[e.id]})),r}return o(t,e),t}(C);function I(){var e=r.useContext(R);if(!e)throw new Error;return e.router}function z(e,t){if(!e.routes.length)return[];var n=[];return function r(o,i){return new Promise((function(u,c){var s,l=i.pathname,f=i.params,h=(null!=e&&e.filterRoutes?null==e?void 0:e.filterRoutes(o):o).find((function(n){var r,o,i=Z([l,n.path]),u=!!("/"!==n.path||null!=(r=n.children)&&r.length),c=G(t,{to:i,search:n.search,fuzzy:u,caseSensitive:null!=(o=n.caseSensitive)?o:e.caseSensitive});return c&&(f=a({},f,c)),!!c}));if(!h)return u();var d=U(h.path,f);l=Z([l,d]);var p={id:U(h.id,f,!0),route:h,params:f,pathname:l,search:t.search};return n.push(p),null!=(s=h.children)&&s.length&&r(h.children,p),u()}))}(e.routes,e.rootMatch),n}function U(e,t,n){return Z(ne(e).map((function(e){return"*"!==e.value||n?"param"===e.type?null!=(r=t[e.value.substring(1)])?r:"":e.value:"";var r})))}function F(){var e=D(),t=V(),n=I(),r=J();return ae((function(o,i){return new Promise((function(u,c){var s,l,f;return void 0===o&&(o=e.current),l=r(a({},o,{from:null!=(s=o.from)?s:{pathname:t.pathname}})),f=new H(n,l),Promise.resolve(f.load(i)).then(u,c)}))}))}function K(){return r.useContext(S)}function V(){var e;return null==(e=K())?void 0:e[0]}function q(){var e=D(),t=V(),n=J();return ae((function(r){var a,o=r.search,i=r.hash,u=r.replace,c=r.from,s=r.to,l=r.fromCurrent;l=null!=(a=l)?a:void 0===s;var f=n({to:s,search:o,hash:i,from:l?e.current:null!=c?c:{pathname:t.pathname}});e.navigate(f,u)}))}function J(){var e=D(),t=I();return ae((function(n){var r=e.buildNext(t.basepath,n),o=z(t,r).map((function(e){var t;return null!=(t=e.route.searchFilters)?t:[]})).flat().filter(Boolean);return e.buildNext(t.basepath,a({},n,{__searchFilters:o}))}))}function $(){var e,t=I(),n=K();n[0];var a=n.slice(1),o=a[0];if(!o)return null;var i=null!=(e=o.errorElement)?e:t.defaultErrorElement,u=function(){var e,n;if("rejected"===o.status){if(i)return i;if(!t.useErrorBoundary)return"An unknown error occured!";throw o.error}var a=null!=(e=o.pendingElement)?e:t.defaultPendingElement;if("pending"===o.status&&(o.route.pendingMs||a))return null!=a?a:null;var u=null!=(n=o.element)?n:t.defaultElement;return null!=u?u:r.createElement($,null)}();return r.createElement(N,{value:a},u)}function W(){var e=I(),t=V();return ae((function(n){return re(e.basepath,t.pathname,ee(n))}))}function G(e,t){var n=te(e,t),r=function(e,t){return!(!t.search||!t.search(e.search))}(e,t);if((!t.to||n)&&(!t.search||r))return null!=n?n:{}}function Q(){var e=I(),t=W();return ae((function(n){var r=n.pending,o=u(n,k);if(o=a({},o,{to:o.to?t(""+o.to):void 0}),r){var i;if(null==(i=e.pending)||!i.location)return;return G(e.pending.location,o)}return G(e.state.location,o)}))}function X(e,t){var n=D();r.useEffect((function(){if(t){var r=n.history.block((function(t){window.confirm(e)?(r(),t.retry()):n.current.pathname=window.location.pathname}));return r}}),[t,n,e])}function Y(e,t){return"function"==typeof e?e(t):e}function Z(e){return ee(e.filter(Boolean).join("/"))}function ee(e){return(""+e).replace(/\/{2,}/g,"/")}function te(e,t){var n,r=ne(e.pathname),a=ne(""+(null!=(n=t.to)?n:"*")),o={};return function(){for(var e=0;e<Math.max(r.length,a.length);e++){var n=r[e],i=a[e],u=e===a.length-1,c=e===r.length-1;if(i){if("wildcard"===i.type)return!(null==n||!n.value)&&(o["*"]=Z(r.slice(e).map((function(e){return e.value}))),!0);if("pathname"===i.type){if("/"===i.value&&(null==n||!n.value))return!0;if(n)if(t.caseSensitive){if(i.value!==n.value)return!1}else if(i.value.toLowerCase()!==n.value.toLowerCase())return!1}if(!n)return!1;"param"===i.type&&(o[i.value.substring(1)]=n.value)}if(u&&!c)return!!t.fuzzy}return!0}()?o:void 0}function ne(e){if(!e)return[];var t=[];if("/"===(e=ee(e)).slice(0,1)&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),!e)return t;var n=e.split("/").filter(Boolean);return t.push.apply(t,n.map((function(e){return e.startsWith("*")?{type:"wildcard",value:e}:":"===e.charAt(0)?{type:"param",value:e}:{type:"pathname",value:e}}))),"/"===e.slice(-1)&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),t}function re(e,t,n){t=t.replace(new RegExp("^"+e),"/"),n=n.replace(new RegExp("^"+e),"/");var r=ne(t);return ne(n).forEach((function(e,t){if("/"===e.value)t||(r=[e]);else if(".."===e.value)r.pop();else{if("."===e.value)return;r.push(e)}})),ee(Z([e].concat(r.map((function(e){return e.value})))))}function ae(e){var t=r.useRef(),n=r.useRef(e);return n.current=e,t.current||(t.current=function(){return n.current.apply(n,arguments)}),t.current}function oe(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||ie(e)&&ie(t)){for(var r=n?e.length:Object.keys(e).length,a=n?t:Object.keys(t),o=a.length,i=n?[]:{},u=0,c=0;c<o;c++){var s=n?c:a[c];i[s]=oe(e[s],t[s]),i[s]===e[s]&&u++}return r===o&&u===r?e:i}return t}function ie(e){if(!ue(e))return!1;var t=e.constructor;if(void 0===t)return!0;var n=t.prototype;return!!ue(n)&&!!n.hasOwnProperty("isPrototypeOf")}function ue(e){return"[object Object]"===Object.prototype.toString.call(e)}function ce(e){(e=a({},e))&&Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n||void 0===n)delete e[t];else if(n&&"object"==typeof n&&null!==n)try{e[t]=JSON.stringify(n)}catch(e){}}));var t=new URLSearchParams(e).toString();return t?"?"+t:""}function se(e){"?"===e.substring(0,1)&&(e=e.substring(1));var t=Object.fromEntries(new URLSearchParams(e).entries());for(var n in t){var r=t[n];try{t[n]=JSON.parse(r)}catch(e){}}return t}e.Link=function(e){var t,n=e.to,o=void 0===n?".":n,i=e.search,c=e.hash,s=e.children,l=e.target,f=e.style,h=void 0===f?{}:f,d=e.replace,p=e.onClick,v=e.onMouseEnter,m=e.className,g=void 0===m?"":m,y=e.getActiveProps,b=void 0===y?function(){return{}}:y,P=e.getInactiveProps,w=void 0===P?function(){return{}}:P,k=e.activeOptions,O=e.preload,L=e.disabled,S=e._ref,R=u(e,E),A=F(),j=V(),C=D(),T=I(),N=q(),_=J();O=null!=(t=O)?t:T.defaultLinkPreloadMaxAge;try{new URL(""+o)}catch(e){}var B=_({to:o,search:i,hash:c,from:{pathname:j.pathname}}),H=C.current.pathname===B.pathname,z=C.current.pathname.split("/"),U=B.pathname.split("/").every((function(e,t){return e===z[t]})),K=C.current.hash===B.hash,$=null!=k&&k.exact?H:U,W=null==k||!k.includeHash||K,G=$&&W,Q=G?b():{},X=Q.style,Y=void 0===X?{}:X,Z=Q.className,ee=void 0===Z?"":Z,te=u(Q,x),ne=G?{}:w(),re=ne.style,ae=void 0===re?{}:re,oe=ne.className,ie=void 0===oe?"":oe,ue=u(ne,M);return r.createElement("a",a({ref:S,href:L?void 0:B.href,onClick:function(e){p&&p(e),function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||e.defaultPrevented||l&&"_self"!==l||0!==e.button||(e.preventDefault(),N({to:o,search:i,hash:c,replace:d,from:{pathname:j.pathname}}))},onMouseEnter:function(e){v&&v(e),O&&O>0&&A({to:o,search:i,hash:c},{maxAge:O})},target:l,style:a({},h,Y,ae),className:[g,ee,ie].filter(Boolean).join(" ")||void 0},L?{role:"link","aria-disabled":!0}:void 0,R,te,ue,{children:"function"==typeof s?s({isActive:G}):s}))},e.MatchRoute=function(e){var t=e.children,n=u(e,O),r=Q()(n);return"function"==typeof t?t(r):r?t:null},e.MatchesProvider=N,e.Navigate=function(e){var t=q();return j((function(){t(e)}),[t]),null},e.Outlet=$,e.Prompt=function(e){var t=e.message,n=e.when,r=e.children;return X(t,null==n||n),null!=r?r:null},e.ReactLocation=T,e.RouteMatch=B,e.Router=function(e){var t=e.children,n=e.location,a=u(e,b),o=r.useRef(null);o.current||(o.current=new _({location:n,routes:a.routes}));var i=o.current,c=r.useReducer((function(){return{}}),{}),s=c[0],l=c[1];i.update(a),j((function(){return i.subscribe((function(){l()}))}),[]),j((function(){return i.updateLocation(n.current).unsubscribe}),[n.current.key]);var f=r.useMemo((function(){return{router:i}}),[s]);return r.createElement(L.Provider,{value:n},r.createElement(R.Provider,{value:f},r.createElement(N,{value:[i.rootMatch].concat(i.state.matches)},null!=t?t:r.createElement($,null))))},e.RouterInstance=_,e.cleanPath=ee,e.createBrowserHistory=g,e.createHashHistory=function(e){function t(){var e=m(u.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=c.state||{};return[r.idx,{pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"}]}function n(){if(f)w.call(f),f=null;else{var e=l.Pop,n=t(),r=n[0];if(n=n[1],w.length){if(null!=r){var a=y-r;a&&(f={action:e,location:n,retry:function(){i(-1*a)}},i(a))}}else o(e)}}function r(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=u.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"==typeof e?e:v(e))}function a(e,t){return void 0===t&&(t=null),s({},b,"string"==typeof e?m(e):e,{state:t,key:p()})}function o(e){g=e,e=t(),y=e[0],b=e[1],P.call({action:g,location:b})}function i(e){c.go(e)}void 0===e&&(e={});var u=void 0===(e=e.window)?document.defaultView:e,c=u.history,f=null;u.addEventListener("popstate",n),u.addEventListener("hashchange",(function(){v(t()[1])!==v(b)&&n()}));var g=l.Pop,y=(e=t())[0],b=e[1],P=d(),w=d();return null==y&&(y=0,c.replaceState(s({},c.state,{idx:y}),"")),{get action(){return g},get location(){return b},createHref:r,push:function e(t,n){var i=l.Push,s=a(t,n);if(!w.length||(w.call({action:i,location:s,retry:function(){e(t,n)}}),0)){var f=[{usr:s.state,key:s.key,idx:y+1},r(s)];s=f[0],f=f[1];try{c.pushState(s,"",f)}catch(e){u.location.assign(f)}o(i)}},replace:function e(t,n){var i=l.Replace,u=a(t,n);w.length&&(w.call({action:i,location:u,retry:function(){e(t,n)}}),1)||(u=[{usr:u.state,key:u.key,idx:y},r(u)],c.replaceState(u[0],"",u[1]),o(i))},go:i,back:function(){i(-1)},forward:function(){i(1)},listen:function(e){return P.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&u.addEventListener("beforeunload",h),function(){t(),w.length||u.removeEventListener("beforeunload",h)}}}},e.createMemoryHistory=y,e.defaultParseSearch=se,e.defaultStringifySearch=ce,e.functionalUpdate=Y,e.matchByPath=te,e.matchRoute=G,e.matchRoutes=z,e.parsePathname=ne,e.useLoadRoute=F,e.useLocation=D,e.useMatch=V,e.useMatchRoute=Q,e.useMatches=K,e.useNavigate=q,e.useParentMatches=function(){var e=I(),t=V(),n=e.state.matches;return n.slice(0,n.findIndex((function(e){return e.id===t.id}))-1)},e.usePrompt=X,e.useResolvePath=W,e.useRouter=I,e.useSearch=function(){return D().current.search},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-location.production.min.js.map
