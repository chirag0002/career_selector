{"version":3,"sources":["../../../src/components/SearchBar/SearchBar.tsx"],"names":["styles","theme","root","height","spacing","display","justifyContent","iconButton","color","palette","action","active","transform","transition","transitions","create","duration","shorter","easing","easeInOut","iconButtonHidden","opacity","searchIconButton","marginRight","icon","input","width","searchContainer","margin","SearchBar","React","forwardRef","ref","cancelOnEscape","className","classes","closeIcon","disabled","onCancelSearch","onRequestSearch","searchIcon","style","undefined","placeholder","userDefinedValue","value","inputProps","inputRef","useRef","useState","setValue","useEffect","handleFocus","useCallback","e","onFocus","handleBlur","v","trim","onBlur","handleInput","target","onChange","handleCancel","handleRequestSearch","handleKeyUp","charCode","key","onKeyUp","cloneElement"],"mappings":"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","sourcesContent":["import React, { ReactElement } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Input from \"@material-ui/core/Input\";\nimport Paper from \"@material-ui/core/Paper\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport classNames from \"classnames\";\n\n//@ts-ignore\nconst styles = (theme) => ({\n  root: {\n    height: theme.spacing(6),\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  iconButton: {\n    color: theme.palette.action.active,\n    transform: \"scale(1, 1)\",\n    transition: theme.transitions.create([\"transform\", \"color\"], {\n      duration: theme.transitions.duration.shorter,\n      easing: theme.transitions.easing.easeInOut,\n    }),\n  },\n  iconButtonHidden: {\n    transform: \"scale(0, 0)\",\n    \"& > $icon\": {\n      opacity: 0,\n    },\n  },\n  searchIconButton: {\n    marginRight: theme.spacing(-6),\n  },\n  icon: {\n    transition: theme.transitions.create([\"opacity\"], {\n      duration: theme.transitions.duration.shorter,\n      easing: theme.transitions.easing.easeInOut,\n    }),\n  },\n  input: {\n    width: \"100%\",\n  },\n  searchContainer: {\n    margin: \"auto 16px\",\n    width: `calc(100% - ${theme.spacing(6 + 4)}px)`, // 6 button + 4 margin\n  },\n});\n\nexport interface ISearchBarProps {\n  /** Whether to clear search on escape */\n  cancelOnEscape?: boolean;\n  /** Override or extend the styles applied to the component. */\n  classes?: {\n    root?: string,\n    iconButton?: string,\n    iconButtonHidden?: string,\n    iconButtonDisabled?: string,\n    searchIconButton?: string,\n    icon?: string,\n    input?: string,\n    searchContainer?: string\n  };\n  /** Custom top-level class */\n  className?: string;\n  /** Override the close icon. */\n  closeIcon?: ReactElement;\n  /** Disables text field. */\n  disabled?: boolean;\n  /** Fired when the search is cancelled. */\n  onCancelSearch: () => void;\n  /** Fired when the text value changes. */\n  onChange: (input: string) => void;\n  /** Fired when the search icon is clicked. */\n  onRequestSearch?: (input: string) => void;\n  /** Sets placeholder text for the embedded text field. */\n  placeholder?: string;\n  /** Override the search icon. */\n  searchIcon?: ReactElement;\n  /** Override the inline-styles of the root element. */\n  style?: React.CSSProperties;\n  /** The value of the text field. */\n  value: string;\n  onFocus?: (event: React.FocusEvent<HTMLInputElement>) => void;\n  onBlur?: (event: React.FocusEvent<HTMLInputElement>) => void;\n  onKeyUp?: (event: React.KeyboardEvent<HTMLInputElement>) => void;\n}\n\n/**\n * Material design search bar\n * @see [Search patterns](https://material.io/archive/guidelines/patterns/search.html)\n */\nconst SearchBar = React.forwardRef<HTMLInputElement, ISearchBarProps>(\n  (\n    {\n      cancelOnEscape,\n      className = \"\",\n      classes,\n      closeIcon = <ClearIcon />,\n      disabled = false,\n      onCancelSearch,\n      onRequestSearch,\n      searchIcon = <SearchIcon />,\n      style = undefined,\n      placeholder = \"Search\",\n      value: userDefinedValue,\n      ...inputProps\n    },\n    ref\n  ) => {\n    const inputRef: React.MutableRefObject<HTMLInputElement> = React.useRef(\n      {} as HTMLInputElement\n    );\n    const [value, setValue] = React.useState(userDefinedValue);\n\n    React.useEffect(() => {\n      setValue(userDefinedValue);\n    }, [userDefinedValue]);\n\n    const handleFocus = React.useCallback(\n      (e) => {\n        if (inputProps.onFocus) {\n          inputProps.onFocus(e);\n        }\n      },\n      [inputProps.onFocus]\n    );\n\n    const handleBlur = React.useCallback(\n      (e) => {\n        setValue((v) => v.trim());\n        if (inputProps.onBlur) {\n          inputProps.onBlur(e);\n        }\n      },\n      [inputProps.onBlur]\n    );\n\n    const handleInput = React.useCallback(\n      (e) => {\n        setValue(e.target.value);\n        inputProps.onChange(e.target.value);\n      },\n      [inputProps.onChange]\n    );\n\n    const handleCancel = React.useCallback(() => {\n      setValue(\"\");\n      onCancelSearch();\n    }, [onCancelSearch]);\n\n    const handleRequestSearch = React.useCallback(() => {\n      if (onRequestSearch) {\n        onRequestSearch(value);\n      }\n    }, [onRequestSearch, value]);\n\n    const handleKeyUp = React.useCallback(\n      (e) => {\n        if (e.charCode === 13 || e.key === \"Enter\") {\n          handleRequestSearch();\n        } else if (\n          cancelOnEscape &&\n          (e.charCode === 27 || e.key === \"Escape\")\n        ) {\n          handleCancel();\n        }\n        if (inputProps.onKeyUp) {\n          inputProps.onKeyUp(e);\n        }\n      },\n      [handleRequestSearch, cancelOnEscape, handleCancel, inputProps.onKeyUp]\n    );\n\n    return (\n      <Paper className={classNames(classes?.root, className)} style={style}>\n        <div className={classes?.searchContainer}>\n          <Input\n            {...inputProps}\n            inputRef={inputRef}\n            onBlur={handleBlur}\n            value={value}\n            onChange={handleInput}\n            onKeyUp={handleKeyUp}\n            onFocus={handleFocus}\n            fullWidth\n            className={classes?.input}\n            disableUnderline\n            disabled={disabled}\n            placeholder={placeholder}\n          />\n        </div>\n        <IconButton\n          role=\"searchButton\"\n          onClick={handleRequestSearch}\n          className={classNames(\n            classes?.iconButton,\n            classes?.searchIconButton,\n            // {\n            //   [classes?.iconButtonHidden as string]: value !== \"\",\n            // }\n          )}\n          disabled={disabled}\n        >\n          {React.cloneElement(searchIcon, {\n            classes: { root: classes?.icon },\n          })}\n        </IconButton>\n        {/* <IconButton\n          role=\"clearButton\"\n          onClick={handleCancel}\n          className={classNames(classes?.iconButton, {\n            [classes?.iconButtonHidden as string]: value === \"\",\n          })}\n          disabled={disabled}\n        >\n          {React.cloneElement(closeIcon, {\n            classes: { root: classes?.icon },\n          })}\n        </IconButton> */}\n      </Paper>\n    );\n  }\n);\n\n\nexport default withStyles(styles)(SearchBar);"],"file":"SearchBar.js"}